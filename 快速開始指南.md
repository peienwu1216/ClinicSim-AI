# ClinicSim-AI 快速開始指南

## 🚀 新版本架構快速啟動

### 方法一：使用啟動腳本（推薦）

```bash
# 1. 進入專案目錄
cd ClinicSim-AI

# 2. 啟動虛擬環境
source venv/bin/activate

# 3. 執行啟動腳本
./start_new.sh
```

### 方法二：手動啟動

```bash
# 1. 啟動後端
python main.py

# 2. 在新終端啟動前端
streamlit run app_new.py
```

## 📋 系統要求

- Python 3.8+
- 虛擬環境（推薦）
- Ollama（可選，用於本地 LLM）

## 🔧 環境設定

### 1. 安裝依賴

```bash
pip install -r requirements.txt
```

### 2. 建立 RAG 索引

```bash
python build_index.py
```

### 3. 設定環境變數（可選）

創建 `.env` 檔案：

```env
# AI 設定
AI_PROVIDER=ollama
OLLAMA_HOST=http://127.0.0.1:11434
OLLAMA_MODEL=llama3:8b

# 伺服器設定
HOST=0.0.0.0
PORT=5001

# 除錯模式
DEBUG=false
```

## 🌐 訪問應用程式

- **前端**: http://localhost:8501
- **後端 API**: http://localhost:5001
- **健康檢查**: http://localhost:5001/health

## 🔄 從舊版本遷移

### 保留舊版本功能
- `app.py` - 舊版本前端
- `server.py` - 舊版本後端
- `rag_handler.py` - 舊版本 RAG

### 新版本入口點
- `main.py` - 新版本後端
- `app_new.py` - 新版本前端

## 🎯 主要改進

### 1. 模組化架構
- 清晰的目錄結構
- 關注點分離
- 易於維護和擴展

### 2. 配置管理
- 環境變數支援
- 類型安全驗證
- 動態配置載入

### 3. 錯誤處理
- 統一的異常處理
- 詳細的錯誤日誌
- 用戶友善的錯誤訊息

### 4. 前端組件化
- 可重用的 UI 組件
- 狀態管理
- 更好的用戶體驗

### 5. API 設計
- RESTful API
- 依賴注入
- 統一的路由處理

## 🐛 常見問題

### Q: 後端啟動失敗
**A**: 檢查端口是否被佔用，或修改 `.env` 中的 `PORT` 設定

### Q: RAG 功能無法使用
**A**: 確保已執行 `python build_index.py` 建立索引

### Q: AI 服務無法連接
**A**: 檢查 `AI_PROVIDER` 設定，確保對應的服務正在運行

### Q: 前端組件顯示異常
**A**: 清除瀏覽器快取，或重啟 Streamlit 服務

## 📚 更多資訊

- [完整開發指南](CURSOR_開發指南.md)
- [專案架構說明](專案架構說明.md)
- [API 文檔](api_contract.md)

## 🆘 需要幫助？

1. 查看 [常見問題](#常見問題) 部分
2. 檢查專案的 Issue 頁面
3. 創建新的 Issue 並提供詳細資訊

---

**祝您使用愉快！** 🎉
