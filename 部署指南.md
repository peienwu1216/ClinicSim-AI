# ClinicSim-AI éƒ¨ç½²æŒ‡å—

## ğŸ¯ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—è©³ç´°èªªæ˜å¦‚ä½•åœ¨ Lemonade AMD AI PC ç’°å¢ƒä¸­éƒ¨ç½² ClinicSim-AI ç³»çµ±ï¼Œä»¥åŠåœ˜éšŠæˆå“¡å¦‚ä½•åœ¨æœ¬åœ°é–‹ç™¼ç’°å¢ƒä¸­é€²è¡Œé–‹ç™¼ã€‚

## ğŸ–¥ï¸ Lemonade AMD AI PC éƒ¨ç½²

### å‰ç½®æº–å‚™

#### 1. åœ¨æœ¬åœ°é–‹ç™¼ç’°å¢ƒä¸­æº–å‚™
```bash
# 1. ç¢ºä¿å°ˆæ¡ˆå®Œæ•´
cd ClinicSim-AI
git status

# 2. å»ºç«‹ RAG ç´¢å¼•
python build_index.py

# 3. é©—è­‰ç´¢å¼•å»ºç«‹æˆåŠŸ
ls -la faiss_index/
# æ‡‰è©²çœ‹åˆ° index.faiss å’Œ index.pkl æª”æ¡ˆ

# 4. æ‰“åŒ…ç´¢å¼•æª”æ¡ˆ
tar -czf faiss_index.tar.gz faiss_index/
# æˆ–ä½¿ç”¨ zip
zip -r faiss_index.zip faiss_index/
```

#### 2. æº–å‚™éƒ¨ç½²æª”æ¡ˆ
éœ€è¦ä¸Šå‚³åˆ° AMD AI PC çš„æª”æ¡ˆï¼š
- æ•´å€‹å°ˆæ¡ˆè³‡æ–™å¤¾
- `faiss_index.tar.gz` æˆ– `faiss_index.zip`
- `requirements.txt`
- æ‰€æœ‰ Python æª”æ¡ˆ

### éƒ¨ç½²æ­¥é©Ÿ

#### 1. ä¸Šå‚³å°ˆæ¡ˆæª”æ¡ˆ
```bash
# ä½¿ç”¨ scp æˆ–å…¶ä»–æ–¹å¼ä¸Šå‚³åˆ° AMD AI PC
scp -r ClinicSim-AI/ user@amd-ai-pc:/path/to/deployment/
scp faiss_index.tar.gz user@amd-ai-pc:/path/to/deployment/ClinicSim-AI/
```

#### 2. åœ¨ AMD AI PC ä¸Šè¨­å®šç’°å¢ƒ
```bash
# é€£æ¥åˆ° AMD AI PC
ssh user@amd-ai-pc

# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd /path/to/deployment/ClinicSim-AI

# è§£å£“ç¸® RAG ç´¢å¼•
tar -xzf faiss_index.tar.gz
# æˆ–
unzip faiss_index.zip

# é©—è­‰ç´¢å¼•æª”æ¡ˆ
ls -la faiss_index/
```

#### 3. å®‰è£ Python ä¾è³´
```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python3 -m venv venv

# å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
source venv/bin/activate

# å®‰è£ä¾è³´
pip install --upgrade pip
pip install -r requirements.txt
```

#### 4. è¨­å®š Lemonade ç’°å¢ƒ
```bash
# å»ºç«‹ .env æª”æ¡ˆï¼ˆå¦‚æœéœ€è¦ï¼‰
touch .env

# åœ¨ Lemonade ç’°å¢ƒä¸­ï¼Œä»¥ä¸‹è®Šæ•¸æœƒè‡ªå‹•è¨­å®šï¼š
# - PATH_A_DEMO = True
# - lemonade æ¨¡çµ„æœƒè‡ªå‹•è¼‰å…¥
```

#### 5. é©—è­‰ RAG ç³»çµ±
```bash
# æ¸¬è©¦ RAG ç³»çµ±æ˜¯å¦æ­£å¸¸è¼‰å…¥
python -c "
from rag_handler import rag_system
print('RAG ç³»çµ±ç‹€æ…‹:', rag_system.vector_store is not None)
result = rag_system.search('ECG å¿ƒé›»åœ–çš„é‡è¦æ€§')
print('æœå°‹æ¸¬è©¦:', 'æˆåŠŸ' if result else 'å¤±æ•—')
"
```

#### 6. å•Ÿå‹•ç³»çµ±
```bash
# åœ¨ Lemonade ç’°å¢ƒä¸­å•Ÿå‹•
python server.py
```

### é©—è­‰éƒ¨ç½²

#### 1. æª¢æŸ¥ç³»çµ±ç‹€æ…‹
```bash
# æª¢æŸ¥é€²ç¨‹
ps aux | grep python

# æª¢æŸ¥æ—¥èªŒ
tail -f server.log  # å¦‚æœæœ‰æ—¥èªŒæª”æ¡ˆ
```

#### 2. æ¸¬è©¦ API ç«¯é»
```bash
# æ¸¬è©¦åŸºæœ¬é€£æ¥
curl http://localhost:5001/health  # å¦‚æœæœ‰å¥åº·æª¢æŸ¥ç«¯é»

# æ¸¬è©¦ AI ç—…äººåŠŸèƒ½
curl -X POST http://localhost:5001/ask_patient \
  -H "Content-Type: application/json" \
  -d '{"history": [{"role": "user", "content": "ä½ å¥½"}], "case_id": "case_chest_pain_acs_01"}'
```

#### 3. æ¸¬è©¦ RAG åŠŸèƒ½
```bash
# æ¸¬è©¦è©³ç´°å ±å‘Šç”Ÿæˆ
curl -X POST http://localhost:5001/get_detailed_report \
  -H "Content-Type: application/json" \
  -d '{"full_conversation": [{"role": "user", "content": "æ¸¬è©¦"}], "case_id": "case_chest_pain_acs_01"}'
```

## ğŸ’» æœ¬åœ°é–‹ç™¼ç’°å¢ƒ

### ç’°å¢ƒè¨­å®š

#### 1. ç³»çµ±è¦æ±‚
- Python 3.8+
- 8GB+ RAM
- ç¶²è·¯é€£ç·š
- Git

#### 2. å…‹éš†å°ˆæ¡ˆ
```bash
git clone <repository-url>
cd ClinicSim-AI
```

#### 3. å»ºç«‹è™›æ“¬ç’°å¢ƒ
```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv venv

# å•Ÿå‹•è™›æ“¬ç’°å¢ƒ
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

#### 4. å®‰è£ä¾è³´
```bash
# å®‰è£åŸºæœ¬ä¾è³´
pip install -r requirements.txt

# å¦‚æœé‡åˆ°ä¾è³´å•é¡Œï¼Œå¯ä»¥å˜—è©¦
pip install --upgrade pip
pip install -r requirements.txt --force-reinstall
```

#### 5. è¨­å®šç’°å¢ƒè®Šæ•¸
å»ºç«‹ `.env` æª”æ¡ˆï¼š
```env
OLLAMA_HOST=http://127.0.0.1:11434
OLLAMA_MODEL=llama3:8b
```

### é–‹ç™¼æµç¨‹

#### 1. å»ºç«‹ RAG ç´¢å¼•
```bash
# ç¢ºä¿ documents/ è³‡æ–™å¤¾ä¸­æœ‰è‡¨åºŠæŒ‡å¼•æ–‡ä»¶
python build_index.py
```

#### 2. å•Ÿå‹• Ollama (å¯é¸)
```bash
# å¦‚æœä½¿ç”¨æœ¬åœ° Ollama æ¨¡å‹
ollama serve
ollama pull llama3:8b
```

#### 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
```bash
# çµ‚ç«¯ 1ï¼šå•Ÿå‹•å¾Œç«¯
python server.py

# çµ‚ç«¯ 2ï¼šå•Ÿå‹•å‰ç«¯
streamlit run app.py
```

#### 4. é–‹ç™¼æ¸¬è©¦
- å‰ç«¯ç•Œé¢ï¼šhttp://localhost:8501
- å¾Œç«¯ APIï¼šhttp://localhost:5001

### é–‹ç™¼æ³¨æ„äº‹é …

#### 1. ä»£ç¢¼ä¿®æ”¹
- ä¿®æ”¹å¾Œç«¯ä»£ç¢¼å¾Œéœ€è¦é‡å•Ÿ `server.py`
- ä¿®æ”¹å‰ç«¯ä»£ç¢¼å¾Œ Streamlit æœƒè‡ªå‹•é‡è¼‰
- ä¿®æ”¹ RAG ç›¸é—œä»£ç¢¼éœ€è¦é‡æ–°å»ºç«‹ç´¢å¼•

#### 2. æ¸¬è©¦æ–°åŠŸèƒ½
```bash
# æ¸¬è©¦ RAG ç³»çµ±
python -c "
from rag_handler import rag_system
result = rag_system.search('ä½ çš„æ¸¬è©¦æŸ¥è©¢')
print(result)
"

# æ¸¬è©¦ API ç«¯é»
python -c "
import requests
response = requests.post('http://localhost:5001/ask_patient', 
                        json={'history': [], 'case_id': 'case_chest_pain_acs_01'})
print(response.json())
"
```

#### 3. æ·»åŠ æ–°æ¡ˆä¾‹
1. åœ¨ `cases/` ä¸­å»ºç«‹æ–°çš„ JSON æª”æ¡ˆ
2. åƒè€ƒç¾æœ‰æ¡ˆä¾‹çš„æ ¼å¼
3. æ›´æ–° `app.py` ä¸­çš„ `CASE_ID`

#### 4. æ·»åŠ æ–°æŒ‡å¼•
1. å°‡æ–‡ä»¶æ”¾å…¥ `documents/` è³‡æ–™å¤¾
2. é‡æ–°åŸ·è¡Œ `python build_index.py`
3. é‡å•Ÿç³»çµ±

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### ä»£ç¢¼æ›´æ–°
```bash
# 1. åœ¨æœ¬åœ°æ›´æ–°ä»£ç¢¼
git pull origin main
# æˆ–
git checkout <branch-name>

# 2. é‡æ–°å»ºç«‹ç´¢å¼•ï¼ˆå¦‚æœæœ‰æ–°çš„æŒ‡å¼•æ–‡ä»¶ï¼‰
python build_index.py

# 3. æ‰“åŒ…æ›´æ–°
tar -czf faiss_index.tar.gz faiss_index/

# 4. ä¸Šå‚³åˆ° AMD AI PC
scp -r . user@amd-ai-pc:/path/to/deployment/ClinicSim-AI/
scp faiss_index.tar.gz user@amd-ai-pc:/path/to/deployment/ClinicSim-AI/
```

### åœ¨ AMD AI PC ä¸Šæ›´æ–°
```bash
# 1. åœæ­¢ç¾æœ‰æœå‹™
pkill -f "python server.py"

# 2. æ›´æ–°ä»£ç¢¼
cd /path/to/deployment/ClinicSim-AI
git pull origin main

# 3. æ›´æ–°ç´¢å¼•
tar -xzf faiss_index.tar.gz

# 4. é‡å•Ÿæœå‹™
python server.py
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. RAG ç´¢å¼•å•é¡Œ
```bash
# æª¢æŸ¥ç´¢å¼•æª”æ¡ˆ
ls -la faiss_index/
# æ‡‰è©²æœ‰ index.faiss å’Œ index.pkl

# é‡æ–°å»ºç«‹ç´¢å¼•
rm -rf faiss_index/
python build_index.py
```

#### 2. ä¾è³´å•é¡Œ
```bash
# æ¸…ç†ä¸¦é‡æ–°å®‰è£
pip uninstall -y -r requirements.txt
pip install -r requirements.txt
```

#### 3. è¨˜æ†¶é«”ä¸è¶³
```bash
# æª¢æŸ¥è¨˜æ†¶é«”ä½¿ç”¨
free -h
# æˆ–
top -o %MEM

# æ¸›å°‘ RAG ç´¢å¼•å¤§å°
# ç·¨è¼¯ build_index.py ä¸­çš„ chunk_size åƒæ•¸
```

#### 4. ç¶²è·¯å•é¡Œ
```bash
# æª¢æŸ¥ç¶²è·¯é€£æ¥
ping google.com
curl -I https://huggingface.co

# æª¢æŸ¥é˜²ç«ç‰†è¨­å®š
sudo ufw status
```

### æ—¥èªŒæª¢æŸ¥
```bash
# æŸ¥çœ‹ç³»çµ±æ—¥èªŒ
journalctl -u your-service-name

# æŸ¥çœ‹æ‡‰ç”¨æ—¥èªŒ
tail -f /var/log/your-app.log

# æŸ¥çœ‹ Python éŒ¯èª¤
python server.py 2>&1 | tee server.log
```

## ğŸ“Š ç›£æ§èˆ‡ç¶­è­·

### ç³»çµ±ç›£æ§
```bash
# æª¢æŸ¥ç³»çµ±è³‡æº
htop
# æˆ–
top

# æª¢æŸ¥ç£ç¢Ÿç©ºé–“
df -h

# æª¢æŸ¥ç¶²è·¯é€£æ¥
netstat -tulpn
```

### å®šæœŸç¶­è­·
1. **æ¸…ç†æ—¥èªŒæª”æ¡ˆ**
2. **æ›´æ–°ä¾è³´å¥—ä»¶**
3. **å‚™ä»½ RAG ç´¢å¼•**
4. **æª¢æŸ¥ç³»çµ±æ•ˆèƒ½**

## ğŸ“ æ”¯æ´è¯çµ¡

### æŠ€è¡“æ”¯æ´
- æŸ¥çœ‹æœ¬éƒ¨ç½²æŒ‡å—
- æª¢æŸ¥å°ˆæ¡ˆæ–‡æª”
- è¯ç¹«é–‹ç™¼åœ˜éšŠ

### ç·Šæ€¥è™•ç†
å¦‚æœç³»çµ±ç„¡æ³•å•Ÿå‹•ï¼š
1. æª¢æŸ¥æ—¥èªŒæª”æ¡ˆ
2. é‡å•Ÿæœå‹™
3. é‡æ–°éƒ¨ç½²
4. è¯ç¹«æŠ€è¡“æ”¯æ´

---

**æœ€å¾Œæ›´æ–°**ï¼š2024å¹´9æœˆ
**ç‰ˆæœ¬**ï¼šv1.0.0
**ç¶­è­·è€…**ï¼šClinicSim-AI é–‹ç™¼åœ˜éšŠ
